# ТЕХНИЧЕСКОЕ ЗАДАНИЕ
## SmartGardener — Умный помощник садовода

### ОБЩАЯ ИНФОРМАЦИЯ О ПРОЕКТЕ

**Название:** SmartGardener  
**Тип:** Веб-приложение для садоводов и любителей растений  
**Технологии:** Next.js 15, React 19, TypeScript, Tailwind CSS, MongoDB, OpenAI API  
**Целевая аудитория:** Садоводы, любители комнатных растений, начинающие растениеводы  

**Основная концепция:** Приложение помогает пользователям ухаживать за растениями с помощью искусственного интеллекта. Пользователи могут загружать фотографии растений, получать анализ их состояния и рекомендации по уходу, а также вести персональный журнал.

---

### ТЕХНИЧЕСКАЯ АРХИТЕКТУРА

**Frontend:**
- Next.js 15 с App Router
- React 19 с хуками
- TypeScript для типизации
- Tailwind CSS для стилизации
- Responsive дизайн (мобильные, планшеты, десктоп)

**Backend:**
- Next.js API Routes
- MongoDB с Mongoose ODM
- JWT аутентификация
- OpenAI API (GPT-4 Vision, GPT-4o)
- Cloudinary для хранения изображений

**База данных:**
- MongoDB с коллекциями: User, Garden, Challenge, Achievement, UserChallenge
- Mongoose схемы с валидацией
- Индексы для оптимизации запросов

**Внешние API:**
- OpenAI GPT-4 Vision для анализа изображений растений
- OpenAI GPT-4o для чат-ботов
- Cloudinary для загрузки и хранения изображений

---

### ЦВЕТОВАЯ СХЕМА И ДИЗАЙН

**Основная палитра:**
- Зеленый градиент (green-500 до emerald-600) — основной цвет темы
- Белый/прозрачный белый с backdrop-blur — фоны карточек и навигации
- Серый (gray-600, gray-700) — основной текст
- Градиентные фоны (emerald-50, green-50, teal-50) — фоновые градиенты
- Красный — ошибки и предупреждения
- Желтый/оранжевый — достижения

**Стиль дизайна:**
- Современный, минималистичный с градиентами
- Стеклянный эффект (backdrop-blur-md)
- Скругленные углы (rounded-2xl, rounded-xl)
- Тени и градиенты
- Анимации и hover-эффекты
- Адаптивный дизайн (мобильные устройства)
- Градиентный текст для заголовков

**Шрифты:**
- Inter — основной текст (с поддержкой кириллицы)
- Fira Mono — моноширинный для технической информации

---

### СТРУКТУРА НАВИГАЦИИ

**Главное меню (Navbar):**
- Логотип с иконкой солнца и градиентным текстом "SmartGardener" (слева)
- Десктопное меню с иконками: Загрузить фото, Рекомендации, Достижения, Челленджи, Сад, Журнал, Профиль
- Мобильное меню: бургер-кнопка с выпадающим меню
- Профиль с выпадающим меню (Мой профиль, Выйти)
- Стиль: белый полупрозрачный фон с backdrop-blur, градиентные элементы

---

### СТРАНИЦЫ И ФУНКЦИОНАЛ

## 1. ГЛАВНАЯ СТРАНИЦА (/)
**Назначение:** Лендинг-страница с описанием возможностей приложения

**Элементы:**
- Декоративные градиентные круги (blur-эффект)
- Логотип с иконкой солнца в градиентном контейнере
- Заголовок "SmartGardener" (градиентный текст, 5xl-6xl)
- Подзаголовок "Ваш умный помощник по уходу за растениями"
- Описание функционала (2-3 предложения)
- Основные кнопки:
  - "Начать бесплатно" (градиентная, с иконкой)
  - "Войти в аккаунт" (стеклянная, с иконкой)
- Карточки функций (3 колонки):
  - Анализ по фото (с иконкой камеры)
  - Умные советы (с иконкой лампочки)
  - Персональный журнал (с иконкой книги)
- Дополнительная информация с иконками галочек

**Дизайн:** Современный с градиентами, анимациями, hover-эффектами

---

## 2. СТРАНИЦА РЕГИСТРАЦИИ (/register)
**Назначение:** Создание нового аккаунта

**Элементы:**
- Декоративные градиентные круги (blur-эффект)
- Логотип с иконкой пользователя в градиентном контейнере
- Заголовок "Создать аккаунт" (градиентный текст)
- Подзаголовок "Присоединяйтесь к SmartGardener"
- Форма в стеклянной карточке с полями:
  - Email (с иконкой конверта)
  - Пароль (с иконкой замка)
  - Подтвердите пароль (с иконкой галочки)
- Кнопка "Создать аккаунт" (градиентная, с иконкой)
- Сообщения об ошибках (красные, с иконкой)
- Сообщение об успехе (зеленое, с иконкой)
- Ссылка "Уже есть аккаунт? Войти"

**Состояния:**
- Обычное состояние
- Загрузка (спиннер, текст "Регистрация...")
- Ошибка валидации
- Успешная регистрация

---

## 3. СТРАНИЦА ВХОДА (/login)
**Назначение:** Авторизация пользователей

**Элементы:**
- Декоративные градиентные круги (blur-эффект)
- Логотип с иконкой входа в градиентном контейнере
- Заголовок "Добро пожаловать" (градиентный текст)
- Подзаголовок "Войдите в свой аккаунт"
- Форма в стеклянной карточке с полями:
  - Email (с иконкой конверта)
  - Пароль (с иконкой замка)
- Кнопка "Войти в аккаунт" (градиентная, с иконкой)
- Сообщения об ошибках (красные, с иконкой)
- Ссылка "Нет аккаунта? Зарегистрироваться"

**Состояния:**
- Обычное состояние
- Загрузка (спиннер, текст "Вход...")
- Ошибка авторизации

---

## 4. СТРАНИЦА ЗАГРУЗКИ ФОТО (/upload) ⭐
**Назначение:** Основной функционал — анализ растений по фото

**Элементы:**
- Декоративные градиентные круги (blur-эффект)
- Логотип с иконкой камеры в градиентном контейнере
- Заголовок "Анализ растения по фото" (градиентный текст)
- Подзаголовок "Загрузите фото растения для получения рекомендаций по уходу"

**Этапы работы:**
1. **Выбор фото:**
   - Drag & Drop область с анимацией
   - Кнопка "Загрузить фото растения" (градиентная, с иконкой загрузки)
   - Кнопка "Сделать фото" (градиентная, с иконкой камеры, только для мобильных)
   - Hover-эффекты и анимации

2. **Превью и загрузка:**
   - Превью выбранного фото с индикатором "Выбрано"
   - Стилизованный индикатор загрузки с анимацией
   - Кнопка "Выбрать другое фото" с иконкой

3. **Анализ:**
   - Превью загруженного фото с индикатором "Загружено"
   - Кнопка "Получить рекомендации" (градиентная, с иконкой)
   - Стилизованный индикатор анализа

4. **Чат с ботом:**
   - Современный интерфейс чата с градиентными сообщениями
   - Поле ввода с улучшенным дизайном
   - Кнопка отправки (градиентная, с иконкой)
   - Кнопка голосового сообщения (градиентная, с иконкой микрофона)
   - Индикатор записи с анимацией (красная точка + анимация pulse)

**Специальные элементы:**
- Голосовые сообщения с плеером
- Индикатор записи (красная точка + анимация pulse)
- Toast-уведомления
- Стилизованные сообщения об ошибках
- Автоматическая загрузка после выбора файла

**Состояния:**
- Проверка авторизации (с современным fallback)
- Выбор файла
- Загрузка
- Анализ
- Чат

---

## 5. СТРАНИЦА ПРОФИЛЯ (/profile) ⭐
**Назначение:** Личный кабинет пользователя

**Элементы:**
- Декоративные градиентные круги (blur-эффект)
- Логотип с иконкой пользователя в градиентном контейнере
- Заголовок "Личный профиль" (градиентный текст)
- Подзаголовок "Управляйте своим аккаунтом и просматривайте историю"

**Информация о пользователе:**
- Круглый аватар с градиентным фоном и индикатором статуса
- Email пользователя (крупный шрифт)
- Дата регистрации в читаемом формате
- Статистика анализов в стилизованном блоке

**Редактирование профиля:**
- Форма редактирования с полями:
  - Имя
  - Телефон
  - Telegram
  - Локация (город)
  - Тип выращивания (огород/участок или в горшке/контейнере)
- Кнопка сохранения изменений

**История анализов:**
- Стилизованные карточки с градиентным фоном
- Миниатюра фото (64x64px) с рамкой
- Результат анализа с улучшенной типографикой
- Дата и время в читаемом формате
- Кнопка "Показать полностью/Свернуть" с иконкой

**Достижения:**
- Сетка карточек с градиентным фоном
- Иконки достижений в цветных контейнерах
- Названия достижений и даты получения

**Кнопка выхода:**
- Градиентная кнопка с иконкой и анимацией

**Состояния:**
- Загрузка профиля (с современным спиннером)
- Пустая история (с информативными иконками)
- Развернутые/свернутые анализы

---

## 6. СТРАНИЦА ЖУРНАЛА (/journal)
**Назначение:** Персональный журнал растений (заглушка)

**Элементы:**
- Декоративные градиентные круги (blur-эффект)
- Логотип с иконкой книги в градиентном контейнере
- Заголовок "Журнал растений" (градиентный текст)
- Подзаголовок "Ведите историю ухода за вашими растениями"
- Современная заглушка с иконкой и описанием
- Индикатор "Функция в разработке"

---

## 7. СТРАНИЦА РЕКОМЕНДАЦИЙ (/recommendations)
**Назначение:** Общие рекомендации по уходу (заглушка)

**Элементы:**
- Декоративные градиентные круги (blur-эффект)
- Логотип с иконкой лампочки в градиентном контейнере
- Заголовок "Рекомендации по уходу" (градиентный текст)
- Подзаголовок "Персональные советы для ваших растений"
- Современная заглушка с иконкой и описанием
- Индикатор "Функция в разработке"

---

## 8. СТРАНИЦА ДОСТИЖЕНИЙ (/achievements)
**Назначение:** Система достижений пользователя

**Элементы:**
- Заглушка с описанием функционала
- Индикатор "Функция в разработке"

---

## 9. СТРАНИЦА ЧЕЛЛЕНДЖЕЙ (/challenges)
**Назначение:** Система челленджей для пользователей

**Элементы:**
- Заглушка с описанием функционала
- Индикатор "Функция в разработке"

---

## 10. СТРАНИЦА САДА (/garden)
**Назначение:** Визуализация растений пользователя

**Элементы:**
- Заглушка с описанием функционала
- Индикатор "Функция в разработке"

---

### КОМПОНЕНТЫ ИНТЕРФЕЙСА

## 1. NAVBAR (Навигация)
**Расположение:** Верхняя часть всех страниц
**Элементы:**
- Логотип (слева)
- Меню (десктоп): Загрузить фото, Рекомендации, Достижения, Челленджи, Сад, Журнал, Профиль
- Бургер-кнопка (мобильные)
- Выпадающее мобильное меню
- Профиль с выпадающим меню

## 2. PROTECTED ROUTE (Защищенные маршруты)
**Функция:** Проверка авторизации
**Состояния:**
- Проверка авторизации (спиннер + текст)
- Редирект на логин
- Отображение контента

## 3. LOADER (Загрузка)
**Функция:** Индикатор загрузки
**Элементы:**
- Анимированный спиннер
- Текст загрузки (настраиваемый)
- Зеленый цвет

## 4. TOAST (Уведомления)
**Функция:** Всплывающие уведомления
**Типы:**
- Успех (зеленый)
- Ошибка (красный)
- Информация (серый)
**Позиция:** Верхняя часть экрана, по центру

## 5. VOICE MESSAGE PLAYER (Плеер голосовых сообщений)
**Функция:** Воспроизведение голосовых сообщений
**Элементы:**
- Кнопка воспроизведения/паузы
- Прогресс-бар
- Время воспроизведения
- Зеленый фон

---

### ИНТЕРАКТИВНЫЕ ЭЛЕМЕНТЫ

## КНОПКИ
**Стили:**
- Основные: зеленый градиентный фон, белый текст
- Вторичные: прозрачный фон, зеленый текст
- Опасные: красный фон
- Неактивные: серая прозрачность

**Состояния:**
- Обычное
- Hover (темнее, тень)
- Active (еще темнее)
- Disabled (прозрачность 60%)

## ФОРМЫ
**Стили:**
- Поля ввода: белый/прозрачный фон, серая рамка
- Фокус: зеленая рамка с кольцом
- Ошибки: красная рамка

## КАРТОЧКИ
**Стили:**
- Белый/прозрачный фон с backdrop-blur
- Скругленные углы
- Тени
- Стеклянный эффект
- Hover-эффекты с трансформацией

---

### АДАПТИВНОСТЬ

**Брейкпоинты:**
- Мобильные: < 768px
- Планшеты: 768px - 1024px
- Десктоп: > 1024px

**Особенности мобильной версии:**
- Бургер-меню
- Кнопка "Сделать фото"
- Вертикальное расположение элементов
- Увеличенные кнопки для касания
- Адаптивные отступы и размеры

---

### АНИМАЦИИ И ПЕРЕХОДЫ

**Типы анимаций:**
- Fade-in для появления элементов
- Spin для загрузки
- Pulse для записи голоса
- Hover-эффекты для кнопок (scale, translate)
- Плавные переходы цветов
- Transform анимации для карточек

**Длительности:**
- Быстрые: 150-300ms
- Средние: 300-500ms
- Медленные: 500ms+

---

### ТЕХНИЧЕСКИЕ ТРЕБОВАНИЯ

## ПРОИЗВОДИТЕЛЬНОСТЬ
- Быстрая загрузка страниц
- Плавные анимации (60fps)
- Оптимизированные изображения
- Lazy loading для компонентов

## ДОСТУПНОСТЬ
- Поддержка клавиатурной навигации
- Alt-тексты для изображений
- Контрастные цвета
- Читаемые шрифты
- ARIA-атрибуты для интерактивных элементов

## БРАУЗЕРНАЯ ПОДДЕРЖКА
- Chrome (последние 2 версии)
- Firefox (последние 2 версии)
- Safari (последние 2 версии)
- Edge (последние 2 версии)

## БЕЗОПАСНОСТЬ
- JWT токены для аутентификации
- Валидация входных данных
- Защита от CSRF атак
- Безопасная загрузка файлов

---

### API И ИНТЕГРАЦИИ

## OPENAI API
**Модели:**
- GPT-4 Vision для анализа изображений растений
- GPT-4o для чат-ботов
**Промпты:**
- Системный промпт для эксперта-садовода
- Промпт для анализа изображений растений
- Ограничения: max_tokens: 500, temperature: 0.3

## CLOUDINARY
**Функции:**
- Загрузка изображений
- Автоматическое сжатие
- CDN для быстрой доставки
- Форматы: JPG, PNG, WebP

## MONGODB
**Коллекции:**
- User (пользователи, анализы, достижения)
- Garden (сады и растения)
- Challenge (челленджи)
- Achievement (достижения)
- UserChallenge (участие в челленджах)

---

### ДОПОЛНИТЕЛЬНАЯ ИНФОРМАЦИЯ

## ИКОНИКИ
Используются SVG-иконки из Heroicons:
- Камера (загрузка фото)
- Микрофон (голосовые сообщения)
- Воспроизведение/пауза (аудио)
- Загрузка (спиннеры)
- Пользователь (профиль)
- Растение (садоводство)
- Солнце (логотип)

## ИЗОБРАЖЕНИЯ
- Поддержка форматов: JPG, PNG, WebP
- Автоматическое сжатие через Cloudinary
- Responsive images
- Lazy loading
- Максимальный размер: 10MB

## МИКРОВЗАИМОДЕЙСТВИЯ
- Hover-эффекты с трансформацией
- Focus-состояния с кольцами
- Loading-состояния со спиннерами
- Success/Error-состояния с цветовой индикацией
- Drag & Drop для загрузки файлов

---

### ПРИОРИТЕТЫ РАЗРАБОТКИ

**Высокий приоритет (реализовано):**
1. ✅ Страница загрузки фото (основной функционал)
2. ✅ Страница профиля
3. ✅ Авторизация/регистрация
4. ✅ Навигация
5. ✅ Чат с голосовыми сообщениями
6. ✅ Анализ растений через OpenAI Vision

**Средний приоритет (частично реализовано):**
1. ✅ Адаптивность
2. ✅ Анимации и переходы
3. 🔄 Система достижений
4. 🔄 Система челленджей

**Низкий приоритет (заглушки):**
1. 📝 Страница журнала
2. 📝 Страница рекомендаций
3. 📝 Страница сада
4. 📝 Расширенная функциональность

---

### СТАТУС РЕАЛИЗАЦИИ

**Полностью реализовано:**
- ✅ Основной функционал анализа растений
- ✅ Система авторизации и регистрации
- ✅ Профиль пользователя с историей анализов
- ✅ Чат с ИИ-ботом
- ✅ Голосовые сообщения
- ✅ Загрузка и хранение изображений
- ✅ Адаптивный дизайн
- ✅ Анимации и переходы

**В разработке:**
- 🔄 Система достижений
- 🔄 Система челленджей
- 🔄 Журнал растений
- 🔄 Рекомендации по уходу

**Планируется:**
- 📋 Интеграция с погодными API
- 📋 Расширенная аналитика растений
- 📋 Социальные функции
- 📋 Мобильное приложение

---

### КОНТАКТНАЯ ИНФОРМАЦИЯ

**Для уточнений по дизайну:**
- Основной фокус на удобстве использования
- Приоритет функциональности над декоративностью
- Сохранение единого стиля во всем приложении
- Учет специфики работы с растениями (зеленая тема)

**Рекомендации:**
- Использовать природные, органические формы
- Минимизировать отвлекающие элементы
- Обеспечить интуитивную навигацию
- Сделать акцент на главном функционале — анализе растений
- Поддерживать современные стандарты веб-разработки 